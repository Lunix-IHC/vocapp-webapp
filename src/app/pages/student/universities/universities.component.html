<div class="filters">
  <h3>Filtrar Universidades</h3>
  <form (submit)="applyFilters($event)">
    <!-- Filtro por nombre -->
    <label for="search">Buscar por nombre:</label>
    <input
      type="text"
      id="search"
      placeholder="Escribe el nombre de la universidad..."
      [(ngModel)]="searchTerm"
      name="searchTerm"
    />

    <!-- Filtros por ubicación -->
    <label for="department">Departamento:</label>
    <select id="department" [(ngModel)]="selectedFilters.department" name="department">
      <option value="Todos">Todos</option>
      <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
    </select>

    <label for="province">Provincia:</label>
    <select id="province" [(ngModel)]="selectedFilters.province" name="province">
      <option value="Todos">Todos</option>
      <option *ngFor="let prov of provinces" [value]="prov">{{ prov }}</option>
    </select>

    <label for="district">Distrito:</label>
    <select id="district" [(ngModel)]="selectedFilters.district" name="district">
      <option value="Todos">Todos</option>
      <option *ngFor="let dist of districts" [value]="dist">{{ dist }}</option>
    </select>

    <!-- Filtro por tipo de gestión -->
    <label for="type">Tipo de gestión:</label>
    <select id="type" [(ngModel)]="selectedFilters.type" name="type">
      <option value="Todos">Todos</option>
      <option value="Pública">Pública</option>
      <option value="Privada">Privada</option>
    </select>

    <!-- Filtro por carreras -->
    <label for="career">Carreras:</label>
    <select id="career" [(ngModel)]="selectedFilters.career" name="career">
      <option value="Todos">Todos</option>
      <option *ngFor="let career of careers" [value]="career">{{ career }}</option>
    </select>

    <!-- Botones -->
    <div class="buttons">
      <button type="submit">Buscar</button>
      <button type="button" (click)="clearFilters()">Limpiar filtros</button>
    </div>
  </form>
</div>

<div class="universities">
  <h3>Lista de Universidades</h3>
  <!-- Mostrar mensaje si no hay resultados -->
  <div *ngIf="filteredUniversities.length === 0" class="no-results">
    No se encontraron universidades con los filtros aplicados.
  </div>
  <!-- Lista de universidades -->
  <ul>
    <li *ngFor="let university of filteredUniversities">
      <h4>{{ university.name }}</h4>
      <p><strong>Ubicación:</strong> {{ university.location.department }}, {{ university.location.province }}, {{ university.location.district }}</p>
      <p><strong>Tipo:</strong> {{ university.type }}</p>
      <!--p><strong>Carreras:</strong> 
        <span *ngFor="let faculty of university.faculties">
          <strong>{{ faculty.name }}:</strong> {{ faculty.careers.join(', ') }}
        </span>
      </-->
      <span *ngFor="let faculty of university.faculties">
        <strong>{{ faculty.name }}, </strong> 
      </span>
      <p>{{ university.details }}</p>
      <button (click)="showDetails(university)">Detalles</button>
    </li>
  </ul>
</div>
